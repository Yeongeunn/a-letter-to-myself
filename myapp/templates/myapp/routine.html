{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <!-- FullCalendar JS -->
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <!-- FullCalendar CSS -->
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js'></script>
    <title>나에게 쓰는 편지</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: auto; }
        
        @font-face {
        font-family: 'KCC-Sonkeechung';
        src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2212@1.0/KCC-Sonkeechung.woff2') format('woff2');
        font-weight: normal;
        font-style: normal;
            }
        h1,h2,ul,button, label, p{
            font-family: 'KCC-Sonkeechung';
        }
    </style>
</head>
<body>
    <header style="position: relative;left: 25%;">
        <h1>A Letter To Myself</h1>
    </header>

    
    <div class="routine-buttons">
        <button onclick="setRoutine('weekly')">📅 매주/매월 한 통</button>
        <button onclick="setRoutine('special')">🎉 특별한 날</button>
        <button onclick="setRoutine('mood')">😊 감정에 따라</button>
    </div>

    <div class="routine-container">
        <h2>📅 편지 루틴 설정</h2>
        <form id="routineForm">
            <label>반복 주기:</label>
            <select id="routineType">
                <option value="weekly">매주</option>
                <option value="monthly">매월</option>
            </select>
    
         <!-- 요일 선택 -->
         <div id="weekly-options">
            <label for="day-of-week">요일 선택:</label>
            <select id="day-of-week" name="day_of_week">
                <option value="Monday">월요일</option>
                <option value="Tuesday">화요일</option>
                <option value="Wednesday">수요일</option>
                <option value="Thursday">목요일</option>
                <option value="Friday">금요일</option>
                <option value="Saturday">토요일</option>
                <option value="Sunday">일요일</option>
            </select>
        </div>
    
        <!-- 날짜 선택 -->
        <div id="monthly-options" style="display: none;">
            <label for="day-of-month">날짜 선택:</label>
            <select id="day-of-month" name="day_of_month">
                {% for day in days %}
                    <option value="{{ day }}">{{ day }}일</option>
                {% endfor %}
            </select>
        </div>
    
        <label>시간 선택:</label>
        <input type="time" id="routineTime">
        
        <button type="submit">📬 루틴 추가</button>
    </form>
    </div>

    <div class="special-date-part">
        <h2>📅 기념일 설정</h2>
        <label for="special-date">날짜 선택:</label>
        <input type="date" id="special-date">
        <button onclick="saveSpecialDate()">저장</button>
    </div>

    <div class="routine-list">
        <h2>📖 내 편지 루틴</h2>
        <ul>
            <li>매주 월요일 - 18:00 <button class="delete-btn">🗑</button></li>
            <li>매월 15일 - 20:00 <button class="delete-btn">🗑</button></li>
        </ul>
    </div>
    

    <div class="mood-list">
        <h2>😊 오늘 기분은? </h2>
        <label for="mood">오늘의 기분을 선택하세요:</label>
        <select name="mood" id="mood">
            <option value="happy">😊 행복</option>
            <option value="sad">😢 슬픔</option>
            <option value="angry">😡 화남</option>
            <option value="worried">🤔 고민</option>
            <option value="diary">📝 일기</option>
        </select>
    </div>
    
    <div class="writing">
        <button onclick="goToWritingPage()">편지 작성하기</button>
    </div>

    <h2>📅 편지 루틴 캘린더</h2>
    <div id="calendar"></div> <!-- 캘린더 표시 영역 -->






    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var calendarEl = document.getElementById('calendar');
            var calendar = new FullCalendar.Calendar(calendarEl, {
                height: 450,
                aspectRatio: 2,
                initialView: 'dayGridMonth',
                stickyHeaderDates: true,
                ihandleWindowResize : true, // 기본값 | Type : Boolean
                locale: 'ko',
                events: "/api/routines/", // Django에서 데이터 불러오기
                
                dateClick: function (info) {
                    alert(info.dateStr + "에 편지를 작성하세요!");
                }
                
            });
            calendar.render();
        });
        
    </script>
    
</body>
</html>



 <!-- {% load static %}
 <form id="routineForm">
    {% csrf_token %}
    <label for="routine-type">루틴 선택:</label>
    <select id="routine-type" name="routine_type" onchange="toggleDateOptions()">
        <option value="weekly">매주</option>
        <option value="monthly">매월</option>
    </select>

     요일 선택
     <div id="weekly-options">
        <label for="day-of-week">요일 선택:</label>
        <select id="day-of-week" name="day_of_week">
            <option value="Monday">월요일</option>
            <option value="Tuesday">화요일</option>
            <option value="Wednesday">수요일</option>
            <option value="Thursday">목요일</option>
            <option value="Friday">금요일</option>
            <option value="Saturday">토요일</option>
            <option value="Sunday">일요일</option>
        </select>
    </div>

    날짜 선택
    <div id="monthly-options" style="display: none;">
        <label for="day-of-month">날짜 선택:</label>
        <select id="day-of-month" name="day_of_month">
            {% for day in days %}
                <option value="{{ day }}">{{ day }}일</option>
            {% endfor %}
        </select>
        
    </div>

    <label for="time">시간 선택:</label>
    <input type="time" id="time" name="time">

    <button type="submit">저장</button>
</form>
<script src="{% static 'js/script.js' %}"></script>
 
